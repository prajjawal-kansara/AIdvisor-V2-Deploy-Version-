<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Discovery Platform</title>
    <link rel="icon" href="assets/icon.png">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <style>
        * {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }

        body {
            background: #0a0a0f;
            background-image:
                radial-gradient(circle at 25% 25%, #1e1b4b 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, #312e81 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, #1e293b 0%, transparent 50%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-strong {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .gradient-text {
            background: linear-gradient(135deg, #818cf8 0%, #c084fc 50%, #f472b6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
        }

        .gradient-bg-alt {
            background: linear-gradient(135deg, #3b82f6 0%, #6366f1 50%, #8b5cf6 100%);
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite alternate;
        }

        @keyframes pulseGlow {
            from {
                box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
            }

            to {
                box-shadow: 0 0 40px rgba(139, 92, 246, 0.6);
            }
        }

        .slide-in {
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(30px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .scale-in {
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.95);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .typing::after {
            content: '|';
            animation: blink 1s infinite;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        .particle {
            position: absolute;
            background: rgba(139, 92, 246, 0.6);
            border-radius: 50%;
            animation: particle 8s infinite linear;
        }

        @keyframes particle {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .loading-bar {
            overflow: hidden;
            background: rgba(255, 255, 255, 0.1);
        }

        .loading-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.8), transparent);
            animation: loading 2s infinite;
        }

        @keyframes loading {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        @keyframes rotate {
            to {
                transform: rotate(360deg);
            }
        }

        .stars {
            color: #fbbf24;
            filter: drop-shadow(0 0 3px rgba(251, 191, 36, 0.5));
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.6);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.8);
        }

        .tooltip {
            position: relative;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .tooltip:hover::after {
            opacity: 1;
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'spin-slow': 'spin 3s linear infinite',
                        'pulse-soft': 'pulse 3s ease-in-out infinite',
                    }
                }
            }
        }
    </script>
</head>

<body>
    <!-- Animated Background Particles -->
    <div id="particles" class="fixed inset-0 pointer-events-none z-0"></div>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Particle system for background animation
        const ParticleSystem = () => {
            useEffect(() => {
                const container = document.getElementById('particles');
                const createParticle = () => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.width = particle.style.height = Math.random() * 3 + 1 + 'px';
                    particle.style.animationDuration = Math.random() * 3 + 5 + 's';
                    particle.style.animationDelay = Math.random() * 2 + 's';
                    container.appendChild(particle);

                    setTimeout(() => {
                        particle.remove();
                    }, 8000);
                };

                const interval = setInterval(createParticle, 300);
                return () => clearInterval(interval);
            }, []);
            return null;
        };

        // Loading Component
        const LoadingSpinner = ({ text = "Processing..." }) => (
            <div className="flex flex-col items-center space-y-4">
                <div className="relative">
                    <div className="w-16 h-16 border-4 border-purple-500/30 rounded-full"></div>
                    <div className="absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-purple-500 rounded-full animate-spin"></div>
                </div>
                <p className="text-white/80 text-lg typing">{text}</p>
                <div className="w-64 h-1 bg-white/10 rounded-full overflow-hidden">
                    <div className="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"></div>
                </div>
            </div>
        );

        // Tool Card Component
        const ToolCard = ({ tool, index }) => {
            const [isExpanded, setIsExpanded] = useState(false);

            const renderStars = (rating) => {
                const stars = [];
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 !== 0;

                for (let i = 0; i < 5; i++) {
                    if (i < fullStars) {
                        stars.push(<i key={i} className="fas fa-star stars"></i>);
                    } else if (i === fullStars && hasHalfStar) {
                        stars.push(<i key={i} className="fas fa-star-half-alt stars"></i>);
                    } else {
                        stars.push(<i key={i} className="far fa-star stars"></i>);
                    }
                }
                return stars;
            };

            return (
                <div
                    className="glass-strong rounded-2xl p-6 card-hover scale-in"
                    style={{ animationDelay: `${index * 0.1}s` }}
                >
                    {/* Header */}
                    <div className="flex items-start justify-between mb-4">
                        <div className="flex-1">
                            <div className="flex items-center space-x-3 mb-2">
                                <h3 className="text-xl font-bold text-white">{tool.name}</h3>
                                <div className="gradient-bg px-3 py-1 rounded-full text-white text-sm font-semibold pulse-glow">
                                    {tool.matchScore}% Match
                                </div>
                            </div>
                            <p className="text-purple-300 text-sm mb-2">by {tool.vendor}</p>

                            {/* Rating */}
                            {tool.rating && (
                                <div className="flex items-center space-x-2 mb-3">
                                    <div className="flex space-x-1">
                                        {renderStars(tool.rating)}
                                    </div>
                                    <span className="text-white/70 text-sm">
                                        {tool.rating}
                                        {tool.reviewsCount && ` (${tool.reviewsCount.toLocaleString()})`}
                                    </span>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Description */}
                    <p className="text-white/90 mb-4 leading-relaxed">
                        {tool.description}
                    </p>

                    {/* Categories */}
                    <div className="flex flex-wrap gap-2 mb-4">
                        {tool.categories?.slice(0, 3).map((cat, i) => (
                            <span key={i} className="px-3 py-1 bg-purple-500/20 border border-purple-500/30 text-purple-200 text-xs rounded-full">
                                {cat}
                            </span>
                        ))}
                    </div>

                    {/* Pricing & Features Row */}
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        {/* Pricing */}
                        <div className="glass rounded-xl p-4">
                            <h4 className="text-white font-semibold mb-2 flex items-center">
                                <i className="fas fa-dollar-sign mr-2 text-green-400"></i>
                                Pricing
                            </h4>
                            <div className="space-y-1">
                                {tool.pricing?.startingPrice ? (
                                    <div className="text-white text-lg font-bold">
                                        ${tool.pricing.startingPrice}
                                        <span className="text-sm text-white/70 font-normal">
                                            /{tool.pricing.pricingModel}
                                        </span>
                                    </div>
                                ) : (
                                    <div className="text-green-400 text-lg font-bold">Free</div>
                                )}
                                {tool.pricing?.hasFreeTier && (
                                    <span className="inline-block px-2 py-1 bg-green-500/20 border border-green-500/30 text-green-300 text-xs rounded-full">
                                        Free Tier Available
                                    </span>
                                )}
                                {tool.apiAvailable && (
                                    <span className="inline-block px-2 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-300 text-xs rounded-full ml-2">
                                        API Available
                                    </span>
                                )}
                            </div>
                        </div>

                        {/* Quick Stats */}
                        <div className="glass rounded-xl p-4">
                            <h4 className="text-white font-semibold mb-2 flex items-center">
                                <i className="fas fa-chart-bar mr-2 text-blue-400"></i>
                                Quick Stats
                            </h4>
                            <div className="space-y-2 text-sm">
                                {tool.responseTime && (
                                    <div className="text-white">
                                        <span className="block">Response Time:</span>
                                        <span className="text-white/60 block">{tool.responseTime}</span>
                                    </div>
                                )}
                                <div className="flex justify-between">
                                    <span className="text-white">Use Cases:</span>
                                    <span className="text-white/60">{tool.useCases?.length || 0}</span>
                                </div>
                                <div className="flex justify-between">
                                    <span className="text-white">Features:</span>
                                    <span className="text-white/60">{tool.features?.length || 0}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Expandable Content */}
                    <div className={`transition-all duration-500 overflow-hidden ${isExpanded ? 'max-h-none' : 'max-h-0'}`}>
                        {/* Key Features */}
                        {tool.features && (
                            <div className="mb-4">
                                <h4 className="text-white font-semibold mb-3 flex items-center">
                                    <i className="fas fa-star mr-2 text-yellow-400"></i>
                                    Key Features
                                </h4>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-2">
                                    {tool.features.map((feature, i) => (
                                        <div key={i} className="flex items-center text-white/80 text-sm">
                                            <i className="fas fa-check text-green-400 mr-2 text-xs"></i>
                                            {feature}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* Pros & Cons */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            {tool.pros && (
                                <div>
                                    <h4 className="text-white font-semibold mb-2 flex items-center">
                                        <i className="fas fa-thumbs-up mr-2 text-green-400"></i>
                                        Pros
                                    </h4>
                                    <div className="space-y-1">
                                        {tool.pros.map((pro, i) => (
                                            <div key={i} className="flex items-start text-white/80 text-sm">
                                                <i className="fas fa-plus text-green-400 mr-2 text-xs mt-1"></i>
                                                {pro}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {tool.cons && (
                                <div>
                                    <h4 className="text-white font-semibold mb-2 flex items-center">
                                        <i className="fas fa-thumbs-down mr-2 text-red-400"></i>
                                        Cons
                                    </h4>
                                    <div className="space-y-1">
                                        {tool.cons.map((con, i) => (
                                            <div key={i} className="flex items-start text-white/80 text-sm">
                                                <i className="fas fa-minus text-red-400 mr-2 text-xs mt-1"></i>
                                                {con}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* Best For */}
                        {tool.bestFor && (
                            <div className="glass rounded-xl p-4 mb-4">
                                <h4 className="text-white font-semibold mb-2 flex items-center">
                                    <i className="fas fa-bullseye mr-2 text-purple-400"></i>
                                    Best For
                                </h4>
                                <p className="text-white/80 text-sm">{tool.bestFor}</p>
                            </div>
                        )}

                        {/* Getting Started */}
                        {tool.gettingStarted && (
                            <div className="glass rounded-xl p-4">
                                <h4 className="text-white font-semibold mb-2 flex items-center">
                                    <i className="fas fa-rocket mr-2 text-blue-400"></i>
                                    Getting Started
                                </h4>
                                <p className="text-white/80 text-sm">{tool.gettingStarted}</p>
                            </div>
                        )}
                    </div>

                    {/* Actions */}
                    <div className="flex items-center justify-between mt-6 pt-4 border-t border-white/10">
                        <button
                            onClick={() => setIsExpanded(!isExpanded)}
                            className="text-purple-400 hover:text-purple-300 transition-colors text-sm font-medium"
                        >
                            {isExpanded ? (
                                <>
                                    <i className="fas fa-chevron-up mr-1"></i>
                                    Show Less
                                </>
                            ) : (
                                <>
                                    <i className="fas fa-chevron-down mr-1"></i>
                                    Show More
                                </>
                            )}
                        </button>

                        <div className="flex space-x-3">
                            {tool.website && (
                                <a
                                    href={tool.website}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className="gradient-bg px-4 py-2 rounded-lg text-white text-sm font-medium hover:opacity-90 transition-opacity"
                                >
                                    <i className="fas fa-external-link-alt mr-2"></i>
                                    Visit Website
                                </a>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // Sample Prompts Component
        const SamplePrompts = ({ onPromptSelect }) => {
            const prompts = [
                {
                    icon: "fas fa-image",
                    text: "Create marketing images for my startup",
                    category: "Image Generation"
                },
                {
                    icon: "fas fa-code",
                    text: "AI assistant for coding and debugging",
                    category: "Development"
                },
                {
                    icon: "fas fa-cogs",
                    text: "Automate business workflows",
                    category: "Automation"
                },
                {
                    icon: "fas fa-microphone",
                    text: "Professional voiceovers for videos",
                    category: "Audio"
                },
                {
                    icon: "fas fa-pen-fancy",
                    text: "Write blog posts and marketing content",
                    category: "Writing"
                },
                {
                    icon: "fas fa-chart-line",
                    text: "Analyze large datasets for insights",
                    category: "Analytics"
                },
                {
                    icon: "fas fa-robot",
                    text: "Create customer service chatbots",
                    category: "Chatbots"
                },
                {
                    icon: "fas fa-video",
                    text: "AI-powered video editing",
                    category: "Video"
                }
            ];

            return (
                <div className="mb-8">
                    <h3 className="text-white font-semibold mb-4 text-center">
                        <i className="fas fa-lightbulb mr-2 text-yellow-400"></i>
                        Or try these popular requests:
                    </h3>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3">
                        {prompts.map((prompt, index) => (
                            <button
                                key={index}
                                onClick={() => onPromptSelect(prompt.text)}
                                className="glass rounded-xl p-4 text-left hover:bg-white/10 transition-all duration-300 card-hover group"
                            >
                                <div className="flex items-start space-x-3">
                                    <div className="gradient-bg p-2 rounded-lg">
                                        <i className={`${prompt.icon} text-white`}></i>
                                    </div>
                                    <div className="flex-1">
                                        <p className="text-white text-sm font-medium mb-1">
                                            {prompt.text}
                                        </p>
                                        <span className="text-purple-300 text-xs">
                                            {prompt.category}
                                        </span>
                                    </div>
                                </div>
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [userPrompt, setUserPrompt] = useState('');
            const [recommendations, setRecommendations] = useState(null);
            const [insights, setInsights] = useState(null);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            const [activeTab, setActiveTab] = useState('recommend');
            const [serverStatus, setServerStatus] = useState('checking');
            const textareaRef = useRef(null);

            // Auto-resize textarea
            useEffect(() => {
                if (textareaRef.current) {
                    textareaRef.current.style.height = 'auto';
                    textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';
                }
            }, [userPrompt]);

            // Test server connection
            useEffect(() => {
                testConnection();
            }, []);

            const testConnection = async () => {
                try {
                    const response = await fetch('/api/health');
                    const data = await response.json();
                    setServerStatus('connected');
                    console.log('Server connected:', data);
                } catch (error) {
                    setServerStatus('disconnected');
                    setError('API is not available. Please check your deployment.');
                    console.error('Server connection failed:', error);
                }
            };

            const fetchInsights = async () => {
                try {
                    setLoading(true);
                    const response = await fetch('/api/insights');
                    const data = await response.json();
                    if (data.success) {
                        setInsights(data.insights);
                    } else {
                        setError(data.error || 'Failed to fetch insights');
                    }
                } catch (error) {
                    console.error('Error fetching insights:', error);
                    setError('Failed to fetch insights. Please try again.');
                } finally {
                    setLoading(false);
                }
            };

            const handleRecommendation = async (e) => {
                e.preventDefault();
                if (!userPrompt.trim()) return;

                setLoading(true);
                setError('');
                setRecommendations(null);

                try {
                    const response = await fetch('/api/recommend', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ userPrompt })
                    });

                    const data = await response.json();

                    if (data.success) {
                        setRecommendations(data);
                    } else {
                        setError(data.error || 'Failed to get recommendations');
                    }
                } catch (error) {
                    setError('Network error. Please check your connection and try again.');
                    console.error('Error:', error);
                } finally {
                    setLoading(false);
                }
            };

            const handlePromptSelect = (prompt) => {
                setUserPrompt(prompt);
            };

            return (
                <div className="min-h-screen relative">
                    <ParticleSystem />

                    {/* Header */}
                    <header className="relative z-10 pt-8 pb-12">
                        <div className="max-w-7xl mx-auto px-4 text-center">
                            <div className="floating">
                                <h1 className="text-5xl md:text-7xl font-black text-white mb-6">
                                    AI Tool
                                    <span className="gradient-text block md:inline"> Discovery</span>
                                </h1>
                            </div>
                            <p className="text-xl md:text-2xl text-white/80 max-w-4xl mx-auto mb-8 leading-relaxed">
                                Discover the perfect AI tools from the entire <span className="gradient-text font-semibold">ecosystem</span>
                            </p>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto px-4 relative z-10">
                        {/* Navigation */}
                        <nav className="glass-strong rounded-2xl p-4 mb-5 max-w-md mx-auto">
                            <div className="flex">
                                <button
                                    onClick={() => setActiveTab('recommend')}
                                    className={`flex-1 py-3 px-6 rounded-xl font-semibold transition-all duration-300 ${activeTab === 'recommend'
                                        ? 'gradient-bg text-white shadow-lg scale-105'
                                        : 'text-white/70 hover:text-white hover:bg-white/10'
                                        }`}
                                >
                                    <i className="fas fa-magic mr-2"></i>
                                    Discover
                                </button>
                                <button
                                    onClick={() => {
                                        setActiveTab('insights');
                                        if (!insights) fetchInsights();
                                    }}
                                    className={`flex-1 py-3 px-6 rounded-xl font-semibold transition-all duration-300 ${activeTab === 'insights'
                                        ? 'gradient-bg text-white shadow-lg scale-105'
                                        : 'text-white/70 hover:text-white hover:bg-white/10'
                                        }`}
                                >
                                    <i className="fas fa-chart-line mr-2"></i>
                                    Insights
                                </button>
                            </div>
                        </nav>

                        {/* Main Content */}
                        {activeTab === 'recommend' && (
                            <div className="space-y-12">
                                {/* Input Section */}
                                <div className="glass-strong rounded-3xl p-8 slide-in">
                                    <form onSubmit={handleRecommendation} className="space-y-8">
                                        <div>
                                            <label className="block text-white font-bold mb-4 text-xl">
                                                <i className="fas fa-comment-dots mr-3 text-purple-400"></i>
                                                What AI solution do you need?
                                            </label>
                                            <div className="relative">
                                                <textarea
                                                    ref={textareaRef}
                                                    value={userPrompt}
                                                    onChange={(e) => setUserPrompt(e.target.value)}
                                                    placeholder="Describe your needs in detail... e.g., 'I need to create professional marketing images for my e-commerce store with automated background removal, text overlay features, and brand consistency across multiple platforms'"
                                                    className="w-full p-6 rounded-2xl border-0 bg-white/10 backdrop-blur-md placeholder-white/50 text-white text-lg resize-none focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all duration-300 min-h-[120px]"
                                                    rows="1"
                                                />
                                                <div className="absolute bottom-4 right-4 text-white/40 text-sm">
                                                    {userPrompt.length} characters
                                                </div>
                                            </div>
                                        </div>

                                        <SamplePrompts onPromptSelect={handlePromptSelect} />

                                        <button
                                            type="submit"
                                            disabled={loading || !userPrompt.trim()}
                                            className="w-full py-6 gradient-bg text-white font-bold text-xl rounded-2xl hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-2xl glow-border"
                                        >
                                            {loading ? (
                                                <div className="flex items-center justify-center">
                                                    <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"></div>
                                                    Discovering AI Tools...
                                                </div>
                                            ) : (
                                                <>
                                                    <i className="fas fa-rocket mr-3"></i>
                                                    Discover Perfect AI Tools
                                                </>
                                            )}
                                        </button>
                                    </form>
                                </div>

                                {/* Error Display */}
                                {error && (
                                    <div className="glass-strong rounded-2xl p-6 border border-red-500/30 slide-in">
                                        <div className="flex flex-col items-center text-red-100 text-center">
                                            <div className="gradient-bg-alt p-3 rounded-lg mb-4">
                                                <i className="fas fa-exclamation-triangle text-2xl"></i>
                                            </div>
                                            <h3 className="font-bold text-lg mb-2">Error</h3>
                                            <p className="mb-4">{error}</p>
                                            <button
                                                onClick={testConnection}
                                                className="gradient-bg px-4 py-2 rounded-lg text-white text-sm font-medium hover:opacity-90 transition-opacity"
                                            >
                                                <i className="fas fa-sync-alt mr-2"></i>
                                                Retry
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {/* Loading State */}
                                {loading && (
                                    <div className="glass-strong rounded-3xl p-12 text-center slide-in">
                                        <LoadingSpinner text="Analyzing your needs and discovering the best AI tools..." />
                                    </div>
                                )}

                                {/* Recommendations Display */}
                                {recommendations && !loading && (
                                    <div className="space-y-12 slide-in">

                                        {/* Executive Summary */}
                                        <div className="glass-strong rounded-3xl p-8">
                                            <h2 className="text-3xl font-bold text-white mb-6 flex items-center">
                                                Executive Summary
                                            </h2>
                                            <div className="prose prose-lg prose-invert max-w-none">
                                                <p className="text-white/90 text-lg leading-relaxed">{recommendations.summary}</p>
                                            </div>
                                        </div>

                                        {/* Recommended Tools */}
                                        <div>
                                            <div className="text-center mb-8">
                                                <h2 className="text-4xl font-bold text-white mb-4">
                                                    <i className="fas fa-star mr-3 text-yellow-400"></i>
                                                    Recommended AI Tools
                                                </h2>
                                                <p className="text-white/70 text-lg">
                                                    {recommendations.recommendations?.length || 0} perfectly matched tools found
                                                </p>
                                            </div>

                                            <div className="grid gap-8 lg:grid-cols-2 xl:grid-cols-3">
                                                {recommendations.recommendations?.map((tool, index) => (
                                                    <ToolCard key={index} tool={tool} index={index} />
                                                ))}
                                            </div>
                                        </div>

                                        {/* Additional Insights */}
                                        <div className="grid md:grid-cols-2 gap-8">
                                            {/* Implementation Strategy */}
                                            {recommendations.implementationStrategy && (
                                                <div className="glass-strong rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                        <i className="fas fa-route mr-3 text-blue-400"></i>
                                                        Implementation Strategy
                                                    </h3>
                                                    <p className="text-white/90 leading-relaxed">{recommendations.implementationStrategy}</p>
                                                </div>
                                            )}

                                            {/* Budget Analysis */}
                                            {recommendations.budgetBreakdown && (
                                                <div className="glass-strong rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                        <i className="fas fa-calculator mr-3 text-green-400"></i>
                                                        Budget Analysis
                                                    </h3>
                                                    <p className="text-white/90 leading-relaxed">{recommendations.budgetBreakdown}</p>
                                                </div>
                                            )}
                                        </div>

                                        {/* Future Considerations */}
                                        {recommendations.futureConsiderations && (
                                            <div className="glass-strong rounded-2xl p-6">
                                                <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                    <i className="fas fa-crystal-ball mr-3 text-purple-400"></i>
                                                    Future Considerations
                                                </h3>
                                                <p className="text-white/90 leading-relaxed">{recommendations.futureConsiderations}</p>
                                            </div>
                                        )}

                                        {/* Metadata */}
                                        {recommendations.metadata && (
                                            <div className="glass rounded-2xl p-4">
                                                <div className="flex items-center justify-between text-white/60 text-sm">
                                                    <div className="flex items-center space-x-6">
                                                        <span className="flex items-center">
                                                            <i className="fas fa-clock mr-2"></i>
                                                            Processed in {recommendations.metadata.processingTimeMs}ms
                                                        </span>
                                                        <span className="flex items-center">
                                                            <i className="fas fa-tools mr-2"></i>
                                                            {recommendations.metadata.totalRecommendations} tools analyzed
                                                        </span>
                                                    </div>
                                                    <span className="text-xs">
                                                        {new Date(recommendations.metadata.timestamp).toLocaleString()}
                                                    </span>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Insights Tab */}
                        {activeTab === 'insights' && (
                            <div className="space-y-8">
                                {insights && !loading ? (
                                    <div className="space-y-8 slide-in">
                                        {/* Market Overview */}
                                        <div className="glass-strong rounded-3xl p-8">
                                            <h2 className="text-3xl font-bold text-white mb-8 text-center">
                                                <i className="fas fa-globe mr-3 text-blue-400"></i>
                                                AI Market Overview
                                            </h2>
                                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                                                <div className="text-center">
                                                    <div className="gradient-bg p-6 rounded-2xl mb-4">
                                                        <i className="fas fa-tools text-white text-3xl"></i>
                                                    </div>
                                                    <div className="text-3xl font-bold text-white mb-2">
                                                        {insights.marketOverview?.totalTools || 'N/A'}
                                                    </div>
                                                    <div className="text-purple-300">Total AI Tools</div>
                                                </div>
                                                <div className="text-center">
                                                    <div className="gradient-bg p-6 rounded-2xl mb-4">
                                                        <i className="fas fa-chart-line text-white text-3xl"></i>
                                                    </div>
                                                    <div className="text-3xl font-bold text-white mb-2">
                                                        {insights.marketOverview?.marketValue || 'N/A'}
                                                    </div>
                                                    <div className="text-purple-300">Market Value</div>
                                                </div>
                                                <div className="text-center">
                                                    <div className="gradient-bg p-6 rounded-2xl mb-4">
                                                        <i className="fas fa-rocket text-white text-3xl"></i>
                                                    </div>
                                                    <div className="text-3xl font-bold text-white mb-2">
                                                        {insights.marketOverview?.growthRate || 'N/A'}
                                                    </div>
                                                    <div className="text-purple-300">Growth Rate</div>
                                                </div>
                                                <div className="text-center">
                                                    <div className="gradient-bg p-6 rounded-2xl mb-4">
                                                        <i className="fas fa-crown text-white text-3xl"></i>
                                                    </div>
                                                    <div className="text-3xl font-bold text-white mb-2">
                                                        {insights.marketOverview?.keyPlayers?.length || 0}
                                                    </div>
                                                    <div className="text-purple-300">Key Players</div>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Trending Categories */}
                                        {insights.trendingCategories && (
                                            <div className="glass-strong rounded-3xl p-8">
                                                <h3 className="text-2xl font-bold text-white mb-6 flex items-center">
                                                    <i className="fas fa-fire mr-3 text-red-400"></i>
                                                    Trending Categories
                                                </h3>
                                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                                    {insights.trendingCategories.map((category, index) => (
                                                        <div key={index} className="glass rounded-2xl p-6 card-hover">
                                                            <div className="flex justify-between items-start mb-4">
                                                                <h4 className="font-bold text-white text-lg">{category.category}</h4>
                                                                <span className="px-3 py-1 bg-green-500/30 border border-green-500/50 text-green-300 text-sm rounded-full font-semibold">
                                                                    <i className="fas fa-arrow-up mr-1"></i>
                                                                    {category.growth}
                                                                </span>
                                                            </div>
                                                            <p className="text-white/80 mb-4">{category.description}</p>
                                                            {category.examples && (
                                                                <div className="flex flex-wrap gap-2">
                                                                    {category.examples.slice(0, 3).map((example, i) => (
                                                                        <span key={i} className="px-2 py-1 bg-purple-500/20 text-purple-200 text-xs rounded-full">
                                                                            {example}
                                                                        </span>
                                                                    ))}
                                                                </div>
                                                            )}
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        )}

                                        {/* Emerging Tools */}
                                        {insights.emergingTools && (
                                            <div className="glass-strong rounded-3xl p-8">
                                                <h3 className="text-2xl font-bold text-white mb-6 flex items-center">
                                                    <i className="fas fa-seedling mr-3 text-green-400"></i>
                                                    Emerging AI Tools
                                                </h3>
                                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                                    {insights.emergingTools.map((tool, index) => (
                                                        <div key={index} className="glass rounded-2xl p-6 card-hover">
                                                            <div className="flex items-start justify-between mb-3">
                                                                <h4 className="font-bold text-white text-lg">{tool.name}</h4>
                                                                <span className="px-2 py-1 bg-blue-500/30 border border-blue-500/50 text-blue-200 text-xs rounded-full">
                                                                    {tool.category}
                                                                </span>
                                                            </div>
                                                            <p className="text-white/80 text-sm mb-3">{tool.whyTrending}</p>
                                                            {tool.potential && (
                                                                <div className="border-t border-white/10 pt-3">
                                                                    <p className="text-purple-300 text-sm">
                                                                        <i className="fas fa-star mr-1"></i>
                                                                        {tool.potential}
                                                                    </p>
                                                                </div>
                                                            )}
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        )}

                                        {/* Additional Insights */}
                                        <div className="grid md:grid-cols-2 gap-8">
                                            {/* Investment Trends */}
                                            {insights.investmentTrends && (
                                                <div className="glass-strong rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                        <i className="fas fa-chart-pie mr-3 text-yellow-400"></i>
                                                        Investment Trends
                                                    </h3>
                                                    <p className="text-white/90 leading-relaxed">{insights.investmentTrends}</p>
                                                </div>
                                            )}

                                            {/* User Adoption */}
                                            {insights.userAdoptionTrends && (
                                                <div className="glass-strong rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold text-white mb-4 flex items-center">
                                                        <i className="fas fa-users mr-3 text-blue-400"></i>
                                                        User Adoption
                                                    </h3>
                                                    <p className="text-white/90 leading-relaxed">{insights.userAdoptionTrends}</p>
                                                </div>
                                            )}
                                        </div>

                                        {/* Future Outlook */}
                                        {insights.futureOutlook && (
                                            <div className="glass-strong rounded-2xl p-8">
                                                <h3 className="text-2xl font-bold text-white mb-6 flex items-center">
                                                    <i className="fas fa-crystal-ball mr-3 text-purple-400"></i>
                                                    Future Outlook (Next 12 Months)
                                                </h3>
                                                <p className="text-white/90 text-lg leading-relaxed">{insights.futureOutlook}</p>
                                            </div>
                                        )}

                                        {/* Recommendations */}
                                        {insights.recommendations && (
                                            <div className="glass-strong rounded-2xl p-8">
                                                <h3 className="text-2xl font-bold text-white mb-6 flex items-center">
                                                    <i className="fas fa-lightbulb mr-3 text-yellow-400"></i>
                                                    What to Watch For
                                                </h3>
                                                <p className="text-white/90 text-lg leading-relaxed">{insights.recommendations}</p>
                                            </div>
                                        )}
                                    </div>
                                ) : (
                                    <div className="glass-strong rounded-3xl p-12 text-center">
                                        <LoadingSpinner text="Gathering latest AI industry insights..." />
                                    </div>
                                )}
                            </div>
                        )}
                    </div>

                    {/* Footer */}
                    <footer className="relative z-10 mt-20 py-12 border-t border-white/10">
                        <div className="max-w-7xl mx-auto px-4 text-center">
                            <div className="glass rounded-2xl p-8">
                                <h3 className="text-xl font-bold text-white mb-4">
                                    <i className="fas fa-robot mr-2 text-purple-400"></i>
                                    AI Discovery Platform
                                </h3>
                                <p className="text-white/70 mb-6">
                                    Real-time tool discovery from the entire AI ecosystem
                                </p>
                                <div className="flex justify-center space-x-8 text-white/60">
                                    <div className="flex items-center">
                                        <i className="fas fa-database mr-2"></i>
                                        <span>1000+ AI Tools</span>
                                    </div>
                                    <div className="flex items-center">
                                        <i className="fas fa-sync-alt mr-2"></i>
                                        <span>Real-time Updates</span>
                                    </div>
                                    <div className="flex items-center">
                                        <i className="fas fa-shield-alt mr-2"></i>
                                        <span>Accurate Recommendations</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>

</html>